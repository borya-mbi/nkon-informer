# üîã NKON LiFePO4 Monitor

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –±–∞—Ç–∞—Ä–µ–π LiFePO4 —î–º–Ω—ñ—Å—Ç—é ‚â•200Ah –Ω–∞ —Å–∞–π—Ç—ñ [NKON](https://www.nkon.nl) –∑ –º–∏—Ç—Ç—î–≤–∏–º–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è–º–∏ –≤ Telegram —Ç–∞ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è–º –∑–º—ñ–Ω.

> [!TIP]
> **–î–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ Proxmox —Å–µ—Ä–≤–µ—Ä—ñ:** –î–∏–≤—ñ—Ç—å—Å—è –¥–µ—Ç–∞–ª—å–Ω–∏–π –≥–∞–π–¥ ‚Üí [PROXMOX_DEPLOYMENT.md](PROXMOX_DEPLOYMENT.md)

> [!NOTE]
> **–ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –Ω–∞ GitHub:** –•–æ—á–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `git clone` –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è? ‚Üí [GITHUB_QUICKSTART.md](GITHUB_QUICKSTART.md)

## üìã –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- üõ°Ô∏è **Anti-Ban –∑–∞—Ö–∏—Å—Ç:** –†–µ–∞–ª—ñ—Å—Ç–∏—á–Ω—ñ –∑–∞–≥–æ–ª–æ–≤–∫–∏, –≤–∏–ø–∞–¥–∫–æ–≤—ñ –∑–∞—Ç—Ä–∏–º–∫–∏, requests session
- üí∞ **–ê–Ω–∞–ª—ñ–∑ —Ü—ñ–Ω:** –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω —Ü—ñ–Ω –∑ —Ç–æ—á–Ω—ñ—Å—Ç—é –¥–æ —Ü–µ–Ω—Ç–∞
- üìä **–†–æ–∑—É–º–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è:** 
  - –ü–æ–∫–∞–∑—É—î –≤—ñ–¥—Å–æ—Ç–æ–∫ –∑–º—ñ–Ω–∏ —Ü—ñ–Ω–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `üî¥+5.6%` –∞–±–æ `üü¢-10.1%`)
  - –Ü–≥–Ω–æ—Ä—É—î –Ω–µ–∑–Ω–∞—á–Ω—ñ –∫–æ–ª–∏–≤–∞–Ω–Ω—è (–º–µ–Ω—à–µ 5%)
- üîÑ **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∑–º—ñ–Ω:** –ù–æ–≤—ñ —Ç–æ–≤–∞—Ä–∏, –∑–º—ñ–Ω–∏ —Ü—ñ–Ω, –∑–º—ñ–Ω–∏ —Å—Ç–∞—Ç—É—Å—É –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ
- ‚úÖ –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–æ–≤–∞—Ä—ñ–≤ **In Stock** —Ç–∞ **Pre-order**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–∞—Ä—Å–∏–Ω–≥ —Å–∞–π—Ç—É –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é JavaScript (Selenium)
- ‚úÖ –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ —î–º–Ω—ñ—Å—Ç—é (regex: `280Ah`, `314Ah`, —Ç–æ—â–æ)
- ‚úÖ **–ü–æ–≤–Ω–∏–π –∑–≤—ñ—Ç** –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É - –≤—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ —Ç–æ–≤–∞—Ä–∏
- ‚úÖ –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω:
  - üÜï –ù–æ–≤—ñ —Ç–æ–≤–∞—Ä–∏
  - ‚ùå –í–∏–¥–∞–ª–µ–Ω—ñ —Ç–æ–≤–∞—Ä–∏
  - üí∞ –ó–º—ñ–Ω–∏ —Ü—ñ–Ω
  - üîÑ –ó–º—ñ–Ω–∞ —Å—Ç–∞—Ç—É—Å—É (Pre-order ‚Üî In Stock)
- ‚úÖ Telegram —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –∑ –¥–µ—Ç–∞–ª—å–Ω–æ—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ—é
- ‚úÖ **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –¥–µ–∫—ñ–ª—å–∫–æ—Ö —á–∞—Ç—ñ–≤** (–æ—Å–æ–±–∏—Å—Ç—ñ —á–∞—Ç–∏ —Ç–∞ –≥—Ä—É–ø–∏)
- ‚úÖ **–ö–ª—ñ–∫–æ–≤—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è** –Ω–∞ —Ç–æ–≤–∞—Ä–∏ –ø—Ä—è–º–æ –∑ Telegram
- ‚úÖ –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ –∑–∞–ø—É—Å–∫—É —á–µ—Ä–µ–∑ cron

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

> [!IMPORTANT]
> **–í—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è** –¥–ª—è —ñ–∑–æ–ª—è—Ü—ñ—ó –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π —Ç–∞ —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ –∑ —ñ–Ω—à–∏–º–∏ Python –ø—Ä–æ—î–∫—Ç–∞–º–∏.

```bash
cd h:/1c8/Work/MBI/Education/AG/nkon-informer

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (–†–ï–ö–û–ú–ï–ù–î–û–í–ê–ù–û –¥–ª—è Linux)
python3 -m venv venv

# –ê–∫—Ç–∏–≤–∞—Ü—ñ—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
source venv/bin/activate  # Linux/Mac
# –∞–±–æ
venv\Scripts\activate  # Windows

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞–∫–µ—Ç—ñ–≤ —É —ñ–∑–æ–ª—å–æ–≤–∞–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ
pip install -r requirements.txt
```

**–ß–æ–º—É venv?**
- ‚úÖ –Ü–∑–æ–ª—è—Ü—ñ—è: –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –Ω–µ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—É—é—Ç—å –∑ —Å–∏—Å—Ç–µ–º–Ω–∏–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏
- ‚úÖ –í–µ—Ä—Å—ñ—ó: –º–æ–∂–Ω–∞ –º–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –≤–µ—Ä—Å—ñ—ó Selenium –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –ø—Ä–æ—î–∫—Ç—ñ–≤
- ‚úÖ –ß–∏—Å—Ç–æ—Ç–∞: –ª–µ–≥–∫–æ –≤–∏–¥–∞–ª–∏—Ç–∏ (–ø—Ä–æ—Å—Ç–æ –≤–∏–¥–∞–ª–∏—Ç–∏ –ø–∞–ø–∫—É `venv/`)
- ‚úÖ –ë–µ–∑–ø–µ–∫–∞: –Ω–µ –ø–æ—Ç—Ä–µ–±—É—î `sudo` –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞–∫–µ—Ç—ñ–≤

---

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ Windows (—Ä–æ–∑—Ä–æ–±–∫–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ)

> [!TIP]
> **–î–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤:** –í–∏ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Å–≤–æ—î–º—É Windows –∫–æ–º–ø'—é—Ç–µ—Ä—ñ –ø–µ—Ä–µ–¥ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è–º –Ω–∞ Ubuntu/Proxmox —Å–µ—Ä–≤–µ—Ä—ñ.

**–ü–µ—Ä–µ–¥—É–º–æ–≤–∏:**
- –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π Python 3.8+ ([—ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è](#-–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è-python-–Ω–∞-windows))
- Google Chrome (Selenium –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å ChromeDriver –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)

**–ö–æ–º–∞–Ω–¥–∏ –¥–ª—è PowerShell:**
```powershell
cd h:\1c8\Work\MBI\Education\AG\nkon-informer

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
python -m venv venv

# –ê–∫—Ç–∏–≤–∞—Ü—ñ—è
venv\Scripts\activate

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
copy config.example.json config.json
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ config.json –≤ VS Code –∞–±–æ Notepad++

# –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ë–ï–ó Telegram (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥—É)
python nkon_monitor.py --dry-run

# –ü–æ–≤–Ω–∏–π –∑–∞–ø—É—Å–∫ –ó Telegram (–ø—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–æ—Ç–∞)
python nkon_monitor.py
```

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –î–ª—è production –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ Ubuntu/Proxmox –¥–∏–≤—ñ—Ç—å—Å—è —Ä–æ–∑–¥—ñ–ª [–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è cron](#-–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è-–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ-–∑–∞–ø—É—Å–∫—É-cron).

---

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Telegram –±–æ—Ç–∞

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Telegram —ñ –∑–Ω–∞–π–¥—ñ—Ç—å [@BotFather](https://t.me/BotFather)
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ—é `/newbot`
3. –°–∫–æ–ø—ñ—é–π—Ç–µ **Bot Token** (–≤–∏–≥–ª—è–¥–∞—î —è–∫ `110201543:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw`)
4. –û—Ç—Ä–∏–º–∞–π—Ç–µ –≤–∞—à **Chat ID**:
   
   **–î–ª—è –æ—Å–æ–±–∏—Å—Ç–æ–≥–æ —á–∞—Ç—É:**
   - –í—ñ–¥–ø—Ä–∞–≤—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤–∞—à–æ–º—É –±–æ—Ç—É
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ: `https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates`
   - –ó–Ω–∞–π–¥—ñ—Ç—å `"chat":{"id":123456789` - —Ü–µ –≤–∞—à Chat ID
   
   **–î–ª—è –≥—Ä—É–ø–æ–≤–æ–≥–æ —á–∞—Ç—É:**
   - –î–æ–¥–∞–π—Ç–µ –±–æ—Ç–∞ –¥–æ –≥—Ä—É–ø–∏ (Settings ‚Üí Add Members)
   - –ù–∞–¥–∞–π—Ç–µ –±–æ—Ç—É –ø—Ä–∞–≤–∞ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –∞–ª–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
   - –í—ñ–¥–ø—Ä–∞–≤—Ç–µ –±—É–¥—å-—è–∫–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –≥—Ä—É–ø—É
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ: `https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates`
   - –ó–Ω–∞–π–¥—ñ—Ç—å `"chat":{"id":-100123456789` - –≤—ñ–¥'—î–º–Ω–µ —á–∏—Å–ª–æ –∑ `-100` —Ü–µ ID –≥—Ä—É–ø–∏

### ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

#### –°–ø–æ—Å—ñ–± 1: –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (–ù–∞–π–±–µ–∑–ø–µ—á–Ω—ñ—à–∏–π - –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ) ‚úÖ
–ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ —Å–∏—Å—Ç–µ–º—ñ. –§–∞–π–ª –∑ –ø–∞—Ä–æ–ª—è–º–∏ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ.

**Windows (PowerShell):**
–ó–∞–ø—É—Å—Ç—ñ—Ç—å –Ω–∞—à –ø–æ–º—ñ—á–Ω–∏–∫:
```powershell
./setup_env.ps1
```
–ê–±–æ –≤—Ä—É—á–Ω—É:
```powershell
[System.Environment]::SetEnvironmentVariable('TELEGRAM_BOT_TOKEN', '–≤–∞—à_—Ç–æ–∫–µ–Ω', 'User')
# ... —ñ–Ω—à—ñ –∑–º—ñ–Ω–Ω—ñ
```
*–ü—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Ç–µ—Ä–º—ñ–Ω–∞–ª/VS Code.*

#### –°–ø–æ—Å—ñ–± 2: .env —Ñ–∞–π–ª (–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏)
–Ø–∫—â–æ –∑—Ä—É—á–Ω—ñ—à–µ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª:
1. `cp .env.example .env`
2. –í–ø–∏—à—ñ—Ç—å –¥–∞–Ω—ñ –≤ `.env`
3. **–ù–µ –ø—É–±–ª—ñ–∫—É–π—Ç–µ —Ü–µ–π —Ñ–∞–π–ª!**

### –ó–º—ñ–Ω–Ω—ñ:
- `TELEGRAM_BOT_TOKEN`: –¢–æ–∫–µ–Ω –±–æ—Ç–∞
- `TELEGRAM_CHAT_IDS`: ID —á–∞—Ç—ñ–≤ (—á–µ—Ä–µ–∑ –∫–æ–º—É)
- `MIN_CAPACITY_AH`: –ú—ñ–Ω. —î–º–Ω—ñ—Å—Ç—å (default: 200)
- `PRICE_ALERT_THRESHOLD`: –ü–æ—Ä—ñ–≥ –∑–º—ñ–Ω–∏ —Ü—ñ–Ω–∏ % (default: 5)
```json
{
  "telegram_bot_token": "110201543:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw",
  "telegram_chat_id": "123456789",
  "min_capacity_ah": 200,
  "url": "https://www.nkon.nl/rechargeable/lifepo4/prismatisch.html?___store=en"
}
```

**–î–ª—è –¥–µ–∫—ñ–ª—å–∫–æ—Ö —á–∞—Ç—ñ–≤ (–æ—Å–æ–±–∏—Å—Ç—ñ —á–∞—Ç–∏ —Ç–∞ –≥—Ä—É–ø–∏):**
```json
{
  "telegram_bot_token": "110201543:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw",
  "telegram_chat_ids": [
    "123456789",
    "987654321",
    "-100123456789"
  ],
  "min_capacity_ah": 200,
  "url": "https://www.nkon.nl/rechargeable/lifepo4/prismatisch.html?___store=en"
}
```

> [!TIP]
> **Chat ID –¥–ª—è –≥—Ä—É–ø:** –ì—Ä—É–ø–æ–≤—ñ —á–∞—Ç–∏ –º–∞—é—Ç—å –≤—ñ–¥'—î–º–Ω–∏–π ID, —â–æ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ `-100` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `-100123456789`).
> –©–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ ID –≥—Ä—É–ø–∏, –¥–æ–¥–∞–π—Ç–µ –±–æ—Ç–∞ –¥–æ –≥—Ä—É–ø–∏ —ñ –Ω–∞–¥—ñ—à–ª—ñ—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –ø–æ—Ç—ñ–º –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ `/getUpdates`.


### 4. –ó–∞–ø—É—Å–∫

> [!NOTE]
> **Windows:** –°–∫—Ä–∏–ø—Ç –ø–æ–≤–Ω—ñ—Å—Ç—é –ø—Ä–∞—Ü—é—î –Ω–∞ Windows! Selenium –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å ChromeDriver.
> **Ubuntu/Proxmox:** –ú–æ–∂–µ –∑–Ω–∞–¥–æ–±–∏—Ç–∏—Å—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Chrome/Chromium (–¥–∏–≤. Troubleshooting).

**–¢–µ—Å—Ç–æ–≤–∏–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ Telegram):**
```bash
python nkon_monitor.py --dry-run
```

–¶–µ–π —Ä–µ–∂–∏–º:
- ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î —Å—Ç–æ—Ä—ñ–Ω–∫—É
- ‚úÖ –ü–∞—Ä—Å–∏—Ç—å —Ç–æ–≤–∞—Ä–∏
- ‚úÖ –ü–æ–∫–∞–∑—É—î —â–æ –±—É–¥–µ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ Telegram
- ‚ùå –ù–ï –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–º–æ–∂–Ω–∞ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –±–µ–∑ –±–æ—Ç–∞)

**–ü–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π –∑–∞–ø—É—Å–∫ (–ø–æ—Ç—Ä–µ–±—É—î –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ–≥–æ Telegram –±–æ—Ç–∞):**
```bash
python nkon_monitor.py
```

## üìä –§–æ—Ä–º–∞—Ç Telegram –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

–ö–æ–∂–µ–Ω –∑–∞–ø—É—Å–∫ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –ø–æ–≤–Ω–∏–π –∑–≤—ñ—Ç:

```
üîã NKON LiFePO4 Monitor

‚ú® –ù–æ–≤—ñ —Ç–æ–≤–∞—Ä–∏ (1):
‚Ä¢ [345Ah](...) üÖ∞Ô∏è Grade A- | REPT CB84 - ‚Ç¨79.95 üì¶Pre

üí∞ –ó–º—ñ–Ω–∏ —Ü—ñ–Ω (2):
‚Ä¢ [324Ah](...) üÖ∞Ô∏è REPT Battero 72174L4 - ‚Ç¨55.00 ‚Üí ‚Ç¨65.95 (üî¥+19.9%)
‚Ä¢ [280Ah](...) üÖ∞Ô∏è CALB L173F280A - ‚Ç¨60.00 ‚Üí ‚Ç¨52.95 (üü¢-11.7%)

üì¶ –ó–º—ñ–Ω–∏ —Å—Ç–∞—Ç—É—Å—É (1):
‚Ä¢ üì¶ [334Ah](...) üÖ∞Ô∏è Eve LF334 | In ‚Üí Pre - ‚Ç¨73.95

‚ùå –í–∏–¥–∞–ª–µ–Ω—ñ (1):
‚Ä¢ [200Ah] FAKE Deleted Item

üìã –ë–µ–∑ –∑–º—ñ–Ω (3):
‚Ä¢ ‚úÖ [314Ah](...) üÖ∞Ô∏è Grade A | Eve MB31 - ‚Ç¨87.95
...
```

> [!TIP]
> **–ö–ª—ñ–∫–æ–≤—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:** –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ —î–º–Ω—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `[280Ah]`) —â–æ–± –æ–¥—Ä–∞–∑—É –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É —Ü—å–æ–≥–æ —Ç–æ–≤–∞—Ä—É.

## ‚è∞ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É (cron)

### Ubuntu / Proxmox

**–í–∞—Ä—ñ–∞–Ω—Ç 1: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞**
```bash
chmod +x setup_cron.sh
./setup_cron.sh
```

**–í–∞—Ä—ñ–∞–Ω—Ç 2: –†—É—á–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è**
```bash
crontab -e
```

–î–æ–¥–∞–π—Ç–µ —Ä—è–¥–æ–∫ (–∑–∞–ø—É—Å–∫ —â–æ–¥–Ω—è –æ 9:00):
```cron
0 9 * * * cd /—à–ª—è—Ö/–¥–æ/nkon-informer && /usr/bin/python3 nkon_monitor.py >> nkon_cron.log 2>&1
```

–ü—Ä–∏–∫–ª–∞–¥–∏ —Ä–æ–∑–∫–ª–∞–¥—É:
- `0 9 * * *` - —â–æ–¥–Ω—è –æ 9:00
- `0 */6 * * *` - –∫–æ–∂–Ω—ñ 6 –≥–æ–¥–∏–Ω
- `0 9,15,21 * * *` - —Ç—Ä–∏—á—ñ –Ω–∞ –¥–µ–Ω—å (9:00, 15:00, 21:00)

–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:
```bash
crontab -l  # –ü–æ–∫–∞–∑–∞—Ç–∏ –∞–∫—Ç–∏–≤–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è
tail -f nkon_cron.log  # –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
nkon-informer/
‚îú‚îÄ‚îÄ nkon_monitor.py           # –û—Å–Ω–æ–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ requirements.txt          # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ config.json               # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (–ù–ï –∫–æ–º—ñ—Ç–∏—Ç–∏!)
‚îú‚îÄ‚îÄ config.example.json       # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ state.json               # –ö–µ—à —Ç–æ–≤–∞—Ä—ñ–≤ (—Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
‚îú‚îÄ‚îÄ nkon_monitor.log         # –õ–æ–≥ —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ nkon_cron.log            # Cron –ª–æ–≥ (—Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
‚îú‚îÄ‚îÄ setup_cron.sh            # –°–∫—Ä–∏–ø—Ç –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è cron
‚îú‚îÄ‚îÄ create_lxc.sh            # –°–∫—Ä–∏–ø—Ç —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è LXC –Ω–∞ Proxmox
‚îú‚îÄ‚îÄ .gitignore               # Git –≤–∏–∫–ª—é—á–µ–Ω–Ω—è
‚îú‚îÄ‚îÄ README.md                # –û—Å–Ω–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ PROXMOX_DEPLOYMENT.md    # –ì–∞–π–¥ –∑ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ Proxmox
‚îú‚îÄ‚îÄ DEPLOYMENT_CHECKLIST.md  # Checklist –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
‚îú‚îÄ‚îÄ GIT_INSTALL_WINDOWS.md   # –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Git –Ω–∞ Windows
‚îú‚îÄ‚îÄ GITHUB_QUICKSTART.md     # –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç –∑ GitHub
‚îî‚îÄ‚îÄ GITHUB_SETUP.md          # –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –Ω–∞ GitHub
```

## üîß Troubleshooting

### Chrome/ChromeDriver –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è

**Proxmox/Ubuntu –±–µ–∑ GUI:**
```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Chrome
wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
sudo apt install ./google-chrome-stable_current_amd64.deb

# –ê–±–æ Chromium
sudo apt-get install chromium-browser chromium-chromedriver
```

### –ü–æ–º–∏–ª–∫–∞: "Message not sent"

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:
1. Bot Token —ñ Chat ID –ø—Ä–∞–≤–∏–ª—å–Ω—ñ
2. –í–∏ –≤—ñ–¥–ø—Ä–∞–≤–∏–ª–∏ –ø—Ä–∏–Ω–∞–π–º–Ω—ñ –æ–¥–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±–æ—Ç—É
3. –ë–æ—Ç –Ω–µ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∏–π

–¢–µ—Å—Ç Telegram API:
```bash
curl -X POST "https://api.telegram.org/bot<TOKEN>/sendMessage" \
  -d "chat_id=<CHAT_ID>&text=Test"
```

### –¢–æ–≤–∞—Ä–∏ –Ω–µ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∑ `--dry-run` —ñ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏
2. –ó–±—ñ–ª—å—à—Ç–µ —á–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –≤ —Å–∫—Ä–∏–ø—Ç—ñ
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –ø—Ä–∞—Ü—é—î —Å–∞–π—Ç

### Cron –Ω–µ –ø—Ä–∞—Ü—é—î

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å cron
sudo systemctl status cron

# –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —à–ª—è—Ö–∏ –∞–±—Å–æ–ª—é—Ç–Ω—ñ
which python3  # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü–µ–π —à–ª—è—Ö –≤ crontab

# –î–æ–¥–∞–π—Ç–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è
0 9 * * * cd /–ø–æ–≤–Ω–∏–π/—à–ª—è—Ö && /usr/bin/python3 nkon_monitor.py >> /–ø–æ–≤–Ω–∏–π/—à–ª—è—Ö/nkon_cron.log 2>&1
```

## üìù –õ–æ–≥–∏

–í—Å—ñ –¥—ñ—ó –∑–∞–ø–∏—Å—É—é—Ç—å—Å—è –≤:
- `nkon_monitor.log` - –¥–µ—Ç–∞–ª—å–Ω—ñ –ª–æ–≥–∏ —Å–∫—Ä–∏–ø—Ç–∞
- `nkon_cron.log` - –ª–æ–≥–∏ cron (—è–∫—â–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)

–ü–µ—Ä–µ–≥–ª—è–¥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ:
```bash
tail -f nkon_monitor.log
```

## üîç –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

1. **Selenium** –≤—ñ–¥–∫—Ä–∏–≤–∞—î —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤ headless Chrome
2. –ß–µ–∫–∞—î –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è JavaScript (Magento 2)
3. **BeautifulSoup** –ø–∞—Ä—Å–∏—Ç—å HTML –∑–∞ CSS —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º–∏:
   - `li.product-item` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ —Ç–æ–≤–∞—Ä—ñ–≤
   - `a.product-item-link` - –Ω–∞–∑–≤–∏
   - `.btn--cart` - —Å—Ç–∞—Ç—É—Å (–∑–µ–ª–µ–Ω–∞=In Stock, —Å–∏–Ω—è=Pre-order)
4. Regex `(\d+)Ah` –≤–∏—Ç—è–≥—É—î —î–º–Ω—ñ—Å—Ç—å
5. –§—ñ–ª—å—Ç—Ä—É—î —Ç–æ–≤–∞—Ä–∏ ‚â•200Ah
6. –ü–æ—Ä—ñ–≤–Ω—é—î –∑ `state.json` (–ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –∑–∞–ø—É—Å–∫)
7. –í–∏—è–≤–ª—è—î –∑–º—ñ–Ω–∏ (–Ω–æ–≤—ñ, –≤–∏–¥–∞–ª–µ–Ω—ñ, —Ü—ñ–Ω–∞, —Å—Ç–∞—Ç—É—Å)
8. –í—ñ–¥–ø—Ä–∞–≤–ª—è—î –∑–≤—ñ—Ç –≤ Telegram
9. –ó–±–µ—Ä—ñ–≥–∞—î –Ω–æ–≤–∏–π state

## üõ°Ô∏è –ë–µ–∑–ø–µ–∫–∞

- **–ù–ï –∫–æ–º—ñ—Ç—å—Ç–µ** `config.json` –∑ —Ç–æ–∫–µ–Ω–∞–º–∏ –≤ Git
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `.gitignore` (–≤–∂–µ –≤–∫–ª—é—á–µ–Ω–æ)
- –û–±–º–µ–∂—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É: `chmod 600 config.json`

## ÔøΩ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Python –Ω–∞ Windows

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –û—Ñ—ñ—Ü—ñ–π–Ω–∏–π Python (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

1. **–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ Python:**
   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://www.python.org/downloads/
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Download Python 3.12.x"
   - –ê–±–æ –ø—Ä—è–º–∏–π –ª—ñ–Ω–∫: https://www.python.org/ftp/python/3.12.1/python-3.12.1-amd64.exe

2. **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å:**
   - –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–π `.exe` —Ñ–∞–π–ª
   - ‚ö†Ô∏è **–í–ê–ñ–õ–ò–í–û:** –ü–æ—Å—Ç–∞–≤—Ç–µ –≥–∞–ª–æ—á–∫—É **"Add python.exe to PATH"** (–≤–Ω–∏–∑—É –≤—ñ–∫–Ω–∞)
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Install Now"

3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ (—É –Ω–æ–≤–æ–º—É –≤—ñ–∫–Ω—ñ PowerShell):**
   ```powershell
   python --version
   ```
   –ü–æ–≤–∏–Ω–Ω–æ –ø–æ–∫–∞–∑–∞—Ç–∏: `Python 3.12.1`

### –í–∞—Ä—ñ–∞–Ω—Ç 2: Microsoft Store

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Microsoft Store
2. –ó–Ω–∞–π–¥—ñ—Ç—å "Python 3.12"
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–û—Ç—Ä–∏–º–∞—Ç–∏"
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ: `python --version`

## ÔøΩüìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤—ñ–ª—å–Ω–æ –¥–ª—è –æ—Å–æ–±–∏—Å—Ç–∏—Ö –ø–æ—Ç—Ä–µ–±.

---

**–ü—Ä–∏—î–º–Ω–æ–≥–æ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É! üîã‚ö°**
